<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>drapUp</title>
	<style>
		#wrap{border-radius: 10px; text-align: center;margin: 200px auto 0;width: 300px; height: 200px;line-height: 200px;background-color: #aaa;position: relative;}
		#file{opacity: 0;display: block;width: 100%;height: 100%;cursor: pointer;}
		#words{position: absolute;width:100%;height:100%;margin:auto;left:0;right: 0;top:0;bottom: 0;font-family: '微软雅黑';}
	</style>
</head>
<body>
	<div id="wrap">
		<div id="words">把文件拖拽到这里上传</div>
		<input type="file" multiple name="file" id="file">
	</div>
	<div id="images">
		<img src="" alt="" style="width:200px; height: 200px;"/>
		<img src="" alt="" style="width:200px; height: 200px;"/>
	</div>
	<script>
		var file = document.getElementById('file');
		var _FormData = new FormData();
		file.addEventListener('drop', function (e) {
			// e.preventDefault();
			var files = e.dataTransfer.files;
			Array.prototype.forEach.call(files,function (file,index) {
				_FormData.append('file['+index+']',file);
			});

			var xhr = new XMLHttpRequest();
			xhr.open('POST','/uploadFile',true);
			xhr.addEventListener('load', function (e) {
				console.dir(arguments);
//				console.dir(this);
			},false);
			xhr.send(_FormData);
		});

//		file.addEventListener('change', function (e) {
//			// e.preventDefault();
//			// console.dir(this.files);
//		});

		

	</script>
</body>
</html>